<UserControl x:Class="HistoriaClinicaApp.Views.PerfilView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="600" Margin="20">
            <TextBlock Text="Mi Perfil" 
                      FontSize="24" 
                      FontWeight="Bold"
                      Margin="0,0,0,30"/>
            
            <!-- Información del Usuario -->
            <Border Background="White" 
                    BorderBrush="#DDD" 
                    BorderThickness="1"
                    CornerRadius="5"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Información de la Cuenta" 
                              FontSize="18" 
                              FontWeight="Bold"
                              Margin="0,0,0,15"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Usuario:" FontWeight="Bold" Margin="0,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding NombreUsuario}" Margin="0,5"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Rol:" FontWeight="Bold" Margin="0,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Rol}" Margin="0,5"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Fecha Creación:" FontWeight="Bold" Margin="0,5"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding FechaCreacion, StringFormat=dd/MM/yyyy HH:mm}" Margin="0,5"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- Cambiar Nombre de Usuario -->
            <Border Background="White" 
                    BorderBrush="#DDD" 
                    BorderThickness="1"
                    CornerRadius="5"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Cambiar Nombre de Usuario" 
                              FontSize="18" 
                              FontWeight="Bold"
                              Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Nuevo nombre de usuario:"/>
                    <TextBox Text="{Binding NuevoNombreUsuario, UpdateSourceTrigger=PropertyChanged}"/>
                    
                    <Button Content="Cambiar Nombre de Usuario" 
                           Command="{Binding CambiarNombreUsuarioCommand}"
                           Background="#007ACC"
                           Foreground="White"
                           HorizontalAlignment="Left"
                           Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Cambiar Contraseña -->
            <Border Background="White" 
                    BorderBrush="#DDD" 
                    BorderThickness="1"
                    CornerRadius="5"
                    Padding="20">
                <StackPanel>
                    <TextBlock Text="Cambiar Contraseña" 
                              FontSize="18" 
                              FontWeight="Bold"
                              Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Contraseña actual:"/>
                    <PasswordBox x:Name="TxtPasswordActual" 
                                PasswordChanged="TxtPasswordActual_PasswordChanged"/>
                    
                    <TextBlock Text="Nueva contraseña:" Margin="0,10,0,0"/>
                    <PasswordBox x:Name="TxtPasswordNueva" 
                                PasswordChanged="TxtPasswordNueva_PasswordChanged"/>
                    
                    <TextBlock Text="Confirmar nueva contraseña:" Margin="0,10,0,0"/>
                    <PasswordBox x:Name="TxtPasswordConfirmar" 
                                PasswordChanged="TxtPasswordConfirmar_PasswordChanged"/>
                    
                    <TextBlock x:Name="TxtMensaje" 
                              TextWrapping="Wrap"
                              Margin="0,10,0,0"
                              Visibility="Collapsed"/>
                    
                    <Button Content="Cambiar Contraseña" 
                           Command="{Binding CambiarPasswordCommand}"
                           Background="#28A745"
                           Foreground="White"
                           HorizontalAlignment="Left"
                           Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>